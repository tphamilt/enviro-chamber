<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Enviro_Chamber: /Users/trenthamilton/Documents/PlatformIO/Projects/ENVIRO_CHAMBER/src/main_enviro.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Enviro_Chamber
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d522931ffa1371640980b621734a4381.html">Users</a></li><li class="navelem"><a class="el" href="dir_dc04405749d62adac1c21d1a698cc43d.html">trenthamilton</a></li><li class="navelem"><a class="el" href="dir_c4452ec83848f5712cd1a4d8cebb8673.html">Documents</a></li><li class="navelem"><a class="el" href="dir_4a3b2fdf70f8faa8b2fc9578a64c7206.html">PlatformIO</a></li><li class="navelem"><a class="el" href="dir_6317efbbe5b0dbc2e94e3b3ef8e54688.html">Projects</a></li><li class="navelem"><a class="el" href="dir_5029869cd1bc0217b90b456b9c2a32a8.html">ENVIRO_CHAMBER</a></li><li class="navelem"><a class="el" href="dir_c2668fa6d738b0374ab7a4e0d7e31278.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main_enviro.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;PrintStream.h&gt;</code><br />
<code>#include &lt;Adafruit_MAX31856.h&gt;</code><br />
<code>#include &lt;WiFi.h&gt;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
<code>#include &lt;AsyncTCP.h&gt;</code><br />
<code>#include &lt;ESPAsyncWebServer.h&gt;</code><br />
<code>#include &lt;SPIFFS.h&gt;</code><br />
<code>#include &lt;Wire.h&gt;</code><br />
<code>#include &quot;<a class="el" href="taskshare_8h_source.html">taskshare.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8e3cda13b82fb33ac30b0507001ccc0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a8e3cda13b82fb33ac30b0507001ccc0c">DRDY_PIN</a>&#160;&#160;&#160;25</td></tr>
<tr class="memdesc:a8e3cda13b82fb33ac30b0507001ccc0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">DRDY PIN FOR THERM.  <a href="main__enviro_8cpp.html#a8e3cda13b82fb33ac30b0507001ccc0c">More...</a><br /></td></tr>
<tr class="separator:a8e3cda13b82fb33ac30b0507001ccc0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f9de1cf4510511738011cf4d21cc3c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a95f9de1cf4510511738011cf4d21cc3c">CS1_PIN</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a95f9de1cf4510511738011cf4d21cc3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">CHIP SELECT 1 PIN.  <a href="main__enviro_8cpp.html#a95f9de1cf4510511738011cf4d21cc3c">More...</a><br /></td></tr>
<tr class="separator:a95f9de1cf4510511738011cf4d21cc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6fd3026aab783c2174d35c4863fe33"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a8b6fd3026aab783c2174d35c4863fe33">CS2_PIN</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a8b6fd3026aab783c2174d35c4863fe33"><td class="mdescLeft">&#160;</td><td class="mdescRight">CHIP SELECT 2 PIN.  <a href="main__enviro_8cpp.html#a8b6fd3026aab783c2174d35c4863fe33">More...</a><br /></td></tr>
<tr class="separator:a8b6fd3026aab783c2174d35c4863fe33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bbb00acc3fac5af03284d9e6f5bd81c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a2bbb00acc3fac5af03284d9e6f5bd81c">CS3_PIN</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:a2bbb00acc3fac5af03284d9e6f5bd81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">CHIP SELECT 3 PIN.  <a href="main__enviro_8cpp.html#a2bbb00acc3fac5af03284d9e6f5bd81c">More...</a><br /></td></tr>
<tr class="separator:a2bbb00acc3fac5af03284d9e6f5bd81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4cece415ae7d43099dae4ff8b8a31c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a1a4cece415ae7d43099dae4ff8b8a31c">HEATER_PIN</a>&#160;&#160;&#160;27</td></tr>
<tr class="memdesc:a1a4cece415ae7d43099dae4ff8b8a31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">HEATER CONTROL PIN.  <a href="main__enviro_8cpp.html#a1a4cece415ae7d43099dae4ff8b8a31c">More...</a><br /></td></tr>
<tr class="separator:a1a4cece415ae7d43099dae4ff8b8a31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd443a4430713d325ab86895a4a45eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a2dd443a4430713d325ab86895a4a45eb">SCK</a>&#160;&#160;&#160;30</td></tr>
<tr class="memdesc:a2dd443a4430713d325ab86895a4a45eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCK PIN NUMBER.  <a href="main__enviro_8cpp.html#a2dd443a4430713d325ab86895a4a45eb">More...</a><br /></td></tr>
<tr class="separator:a2dd443a4430713d325ab86895a4a45eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e733edc95130b35f713014414851b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a08e733edc95130b35f713014414851b7">SDO</a>&#160;&#160;&#160;31</td></tr>
<tr class="memdesc:a08e733edc95130b35f713014414851b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">SDO PIN NUMBER.  <a href="main__enviro_8cpp.html#a08e733edc95130b35f713014414851b7">More...</a><br /></td></tr>
<tr class="separator:a08e733edc95130b35f713014414851b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9617ba9cce1470da68cda07de38b035a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a9617ba9cce1470da68cda07de38b035a">SDI</a>&#160;&#160;&#160;37</td></tr>
<tr class="memdesc:a9617ba9cce1470da68cda07de38b035a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SDI PIN NUMBER <br  />
  <a href="main__enviro_8cpp.html#a9617ba9cce1470da68cda07de38b035a">More...</a><br /></td></tr>
<tr class="separator:a9617ba9cce1470da68cda07de38b035a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4679d8ea8690999a6c6c7c0cb245c879"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a4679d8ea8690999a6c6c7c0cb245c879">THRESHOLD</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a4679d8ea8690999a6c6c7c0cb245c879"><td class="mdescLeft">&#160;</td><td class="mdescRight">THRESHOLD FOR HEATER ON/OFF.  <a href="main__enviro_8cpp.html#a4679d8ea8690999a6c6c7c0cb245c879">More...</a><br /></td></tr>
<tr class="separator:a4679d8ea8690999a6c6c7c0cb245c879"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a84ba432f788f3d1a4e663a2a4f83dff7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a84ba432f788f3d1a4e663a2a4f83dff7">enterStringWithEcho</a> (Stream &amp;stream, char *buffer, uint8_t size)</td></tr>
<tr class="memdesc:a84ba432f788f3d1a4e663a2a4f83dff7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a character array from a serial device, echoing input.  <a href="main__enviro_8cpp.html#a84ba432f788f3d1a4e663a2a4f83dff7">More...</a><br /></td></tr>
<tr class="separator:a84ba432f788f3d1a4e663a2a4f83dff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560c0d3d00745871e826b96a6cac3aee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a560c0d3d00745871e826b96a6cac3aee">notFound</a> (AsyncWebServerRequest *request)</td></tr>
<tr class="memdesc:a560c0d3d00745871e826b96a6cac3aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle not found error.  <a href="main__enviro_8cpp.html#a560c0d3d00745871e826b96a6cac3aee">More...</a><br /></td></tr>
<tr class="separator:a560c0d3d00745871e826b96a6cac3aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f397dc6088ac03f320312b0d95b5a7"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a62f397dc6088ac03f320312b0d95b5a7">readFile</a> (fs::FS &amp;fs, const char *path)</td></tr>
<tr class="memdesc:a62f397dc6088ac03f320312b0d95b5a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read user input from file.  <a href="main__enviro_8cpp.html#a62f397dc6088ac03f320312b0d95b5a7">More...</a><br /></td></tr>
<tr class="separator:a62f397dc6088ac03f320312b0d95b5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfdfe491c3b951586aeba25a0b8ccf80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#adfdfe491c3b951586aeba25a0b8ccf80">writeFile</a> (fs::FS &amp;fs, const char *path, const char *message)</td></tr>
<tr class="memdesc:adfdfe491c3b951586aeba25a0b8ccf80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write user input to file.  <a href="main__enviro_8cpp.html#adfdfe491c3b951586aeba25a0b8ccf80">More...</a><br /></td></tr>
<tr class="separator:adfdfe491c3b951586aeba25a0b8ccf80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c021f9721c3b479757f8e1b40624b6c"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a0c021f9721c3b479757f8e1b40624b6c">processor</a> (const String &amp;var)</td></tr>
<tr class="separator:a0c021f9721c3b479757f8e1b40624b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c87a0e26729f6df31b2b569c0e4022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a96c87a0e26729f6df31b2b569c0e4022">task_WiFi</a> (void *p_params)</td></tr>
<tr class="memdesc:a96c87a0e26729f6df31b2b569c0e4022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task which controls the WiFi module to run a web server.  <a href="main__enviro_8cpp.html#a96c87a0e26729f6df31b2b569c0e4022">More...</a><br /></td></tr>
<tr class="separator:a96c87a0e26729f6df31b2b569c0e4022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09a5449fa0585dfe1a5fbf57911aa0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#af09a5449fa0585dfe1a5fbf57911aa0c">task_heater</a> (void *p_params)</td></tr>
<tr class="memdesc:af09a5449fa0585dfe1a5fbf57911aa0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task which controls the heating element.  <a href="main__enviro_8cpp.html#af09a5449fa0585dfe1a5fbf57911aa0c">More...</a><br /></td></tr>
<tr class="separator:af09a5449fa0585dfe1a5fbf57911aa0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12d6c8e50c67ff15345700a34f8cdbfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a12d6c8e50c67ff15345700a34f8cdbfa">task_sensor</a> (void *p_params)</td></tr>
<tr class="memdesc:a12d6c8e50c67ff15345700a34f8cdbfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task which reads data from thermocouples.  <a href="main__enviro_8cpp.html#a12d6c8e50c67ff15345700a34f8cdbfa">More...</a><br /></td></tr>
<tr class="separator:a12d6c8e50c67ff15345700a34f8cdbfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a7dfd9b79bc5a37d7df40207afbc5431f">setup</a> (void)</td></tr>
<tr class="memdesc:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the ESP32.  <a href="main__enviro_8cpp.html#a7dfd9b79bc5a37d7df40207afbc5431f">More...</a><br /></td></tr>
<tr class="separator:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a0b33edabd7f1c4e4a0bf32c67269be2f">loop</a> (void)</td></tr>
<tr class="memdesc:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Arduino loop function, which is unused in this program.  <a href="main__enviro_8cpp.html#a0b33edabd7f1c4e4a0bf32c67269be2f">More...</a><br /></td></tr>
<tr class="separator:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9d57394a484bb874eb34524d05ec60ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_share.html">Share</a>&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a9d57394a484bb874eb34524d05ec60ee">desired_temp</a> (&quot;Temperature&quot;)</td></tr>
<tr class="memdesc:a9d57394a484bb874eb34524d05ec60ee"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_share.html" title="Class for data to be shared in a thread-safe manner between tasks.">Share</a> to communicate the desired temperature setpoint.  <a href="main__enviro_8cpp.html#a9d57394a484bb874eb34524d05ec60ee">More...</a><br /></td></tr>
<tr class="separator:a9d57394a484bb874eb34524d05ec60ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abdaea2a0998d9cd056190ec4926734"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_share.html">Share</a>&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a3abdaea2a0998d9cd056190ec4926734">temp_reading</a> (&quot;Curr Temp&quot;)</td></tr>
<tr class="memdesc:a3abdaea2a0998d9cd056190ec4926734"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_share.html" title="Class for data to be shared in a thread-safe manner between tasks.">Share</a> to communicate the current temperature reading.  <a href="main__enviro_8cpp.html#a3abdaea2a0998d9cd056190ec4926734">More...</a><br /></td></tr>
<tr class="separator:a3abdaea2a0998d9cd056190ec4926734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8283f6456df517a72b55a2ec7d0c2ffc"><td class="memItemLeft" align="right" valign="top">AsyncWebServer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a8283f6456df517a72b55a2ec7d0c2ffc">p_server</a> = NULL</td></tr>
<tr class="memdesc:a8283f6456df517a72b55a2ec7d0c2ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to the web server object.  <a href="main__enviro_8cpp.html#a8283f6456df517a72b55a2ec7d0c2ffc">More...</a><br /></td></tr>
<tr class="separator:a8283f6456df517a72b55a2ec7d0c2ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30414aba519a1b6f20cfc3f7c86959fb"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a30414aba519a1b6f20cfc3f7c86959fb">PARAM_INT</a> = &quot;inputInt&quot;</td></tr>
<tr class="memdesc:a30414aba519a1b6f20cfc3f7c86959fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">String for the input parameter.  <a href="main__enviro_8cpp.html#a30414aba519a1b6f20cfc3f7c86959fb">More...</a><br /></td></tr>
<tr class="separator:a30414aba519a1b6f20cfc3f7c86959fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ae6f03d132b99a2e41ee2366bd6777"><td class="memItemLeft" align="right" valign="top">const char index_html[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__enviro_8cpp.html#a74ae6f03d132b99a2e41ee2366bd6777">PROGMEM</a></td></tr>
<tr class="separator:a74ae6f03d132b99a2e41ee2366bd6777"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a95f9de1cf4510511738011cf4d21cc3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95f9de1cf4510511738011cf4d21cc3c">&#9670;&nbsp;</a></span>CS1_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CS1_PIN&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CHIP SELECT 1 PIN. </p>

</div>
</div>
<a id="a8b6fd3026aab783c2174d35c4863fe33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6fd3026aab783c2174d35c4863fe33">&#9670;&nbsp;</a></span>CS2_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CS2_PIN&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CHIP SELECT 2 PIN. </p>

</div>
</div>
<a id="a2bbb00acc3fac5af03284d9e6f5bd81c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bbb00acc3fac5af03284d9e6f5bd81c">&#9670;&nbsp;</a></span>CS3_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CS3_PIN&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CHIP SELECT 3 PIN. </p>

</div>
</div>
<a id="a8e3cda13b82fb33ac30b0507001ccc0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3cda13b82fb33ac30b0507001ccc0c">&#9670;&nbsp;</a></span>DRDY_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DRDY_PIN&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DRDY PIN FOR THERM. </p>

</div>
</div>
<a id="a1a4cece415ae7d43099dae4ff8b8a31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4cece415ae7d43099dae4ff8b8a31c">&#9670;&nbsp;</a></span>HEATER_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEATER_PIN&#160;&#160;&#160;27</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HEATER CONTROL PIN. </p>

</div>
</div>
<a id="a2dd443a4430713d325ab86895a4a45eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd443a4430713d325ab86895a4a45eb">&#9670;&nbsp;</a></span>SCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCK&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SCK PIN NUMBER. </p>

</div>
</div>
<a id="a9617ba9cce1470da68cda07de38b035a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9617ba9cce1470da68cda07de38b035a">&#9670;&nbsp;</a></span>SDI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDI&#160;&#160;&#160;37</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SDI PIN NUMBER <br  />
 </p>

</div>
</div>
<a id="a08e733edc95130b35f713014414851b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e733edc95130b35f713014414851b7">&#9670;&nbsp;</a></span>SDO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDO&#160;&#160;&#160;31</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SDO PIN NUMBER. </p>

</div>
</div>
<a id="a4679d8ea8690999a6c6c7c0cb245c879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4679d8ea8690999a6c6c7c0cb245c879">&#9670;&nbsp;</a></span>THRESHOLD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THRESHOLD&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THRESHOLD FOR HEATER ON/OFF. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a84ba432f788f3d1a4e663a2a4f83dff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84ba432f788f3d1a4e663a2a4f83dff7">&#9670;&nbsp;</a></span>enterStringWithEcho()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enterStringWithEcho </td>
          <td>(</td>
          <td class="paramtype">Stream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a character array from a serial device, echoing input. </p>
<p>This function reads characters which are typed by a user into a serial device. It uses the Arduino function <code>readBytes()</code>, which blocks the task which calls this function until a character is read. When any character is received, it is echoed through the serial port so the user can see what was typed.</p>
<p><b>NOTE:</b> When run on an ESP32 using FreeRTOS, this function must allow other tasks to run, so that the watchdog timer is reset. Otherwise the CPU will be reset. The <code>vTaskDelay()</code> call does this. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The serial device such as <code>Serial</code> used to communicate </td></tr>
    <tr><td class="paramname">buffer</td><td>A character buffer in which to store the string; this buffer had better be at least <code>size</code> characters in length </td></tr>
    <tr><td class="paramname">size</td><td>At most (this many - 1) characters will be read and stored </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0b33edabd7f1c4e4a0bf32c67269be2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b33edabd7f1c4e4a0bf32c67269be2f">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Arduino loop function, which is unused in this program. </p>

</div>
</div>
<a id="a560c0d3d00745871e826b96a6cac3aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560c0d3d00745871e826b96a6cac3aee">&#9670;&nbsp;</a></span>notFound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void notFound </td>
          <td>(</td>
          <td class="paramtype">AsyncWebServerRequest *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle not found error. </p>
<p>This function handles a notfound error for the wifi server </p><pre class="fragment">     NOTE: This function is included from 
     https://randomnerdtutorials.com/esp32-esp8266-input-data-html-form/
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>At most (this many - 1) characters will be read and stored </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c021f9721c3b479757f8e1b40624b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c021f9721c3b479757f8e1b40624b6c">&#9670;&nbsp;</a></span>processor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String processor </td>
          <td>(</td>
          <td class="paramtype">const String &amp;&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a62f397dc6088ac03f320312b0d95b5a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62f397dc6088ac03f320312b0d95b5a7">&#9670;&nbsp;</a></span>readFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String readFile </td>
          <td>(</td>
          <td class="paramtype">fs::FS &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read user input from file. </p>
<p>This function reads the user input from a file. The file is opened and then checked for any errors before attempting to read the user input.</p>
<p><b>NOTE:</b> This function is included from <a href="https://randomnerdtutorials.com/esp32-esp8266-input-data-html-form/">https://randomnerdtutorials.com/esp32-esp8266-input-data-html-form/</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>SPIFFS adress file </td></tr>
    <tr><td class="paramname">path</td><td>the path to look for the file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns the string read from the file </dd></dl>

</div>
</div>
<a id="a7dfd9b79bc5a37d7df40207afbc5431f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dfd9b79bc5a37d7df40207afbc5431f">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the ESP32. </p>
<p>This program runs the tasks to control the heater and run the web server. </p>

</div>
</div>
<a id="af09a5449fa0585dfe1a5fbf57911aa0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09a5449fa0585dfe1a5fbf57911aa0c">&#9670;&nbsp;</a></span>task_heater()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_heater </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task which controls the heating element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_params</td><td>Pointer to parameters, which is not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12d6c8e50c67ff15345700a34f8cdbfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12d6c8e50c67ff15345700a34f8cdbfa">&#9670;&nbsp;</a></span>task_sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_sensor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task which reads data from thermocouples. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_params</td><td>Pointer to parameters, which is not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a96c87a0e26729f6df31b2b569c0e4022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c87a0e26729f6df31b2b569c0e4022">&#9670;&nbsp;</a></span>task_WiFi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_WiFi </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task which controls the WiFi module to run a web server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_params</td><td>Pointer to parameters, which is not used</td></tr>
  </table>
  </dd>
</dl>
<p>code for input data inspired by <a href="https://randomnerdtutorials.com/esp32-esp8266-input-data-html-form/">https://randomnerdtutorials.com/esp32-esp8266-input-data-html-form/</a> </p>

</div>
</div>
<a id="adfdfe491c3b951586aeba25a0b8ccf80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdfe491c3b951586aeba25a0b8ccf80">&#9670;&nbsp;</a></span>writeFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeFile </td>
          <td>(</td>
          <td class="paramtype">fs::FS &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write user input to file. </p>
<p>This function writes the user input to a file. The file is opened and then checked for any errors before attempting to write the user input.</p>
<p><b>NOTE:</b> This function is included from <a href="https://randomnerdtutorials.com/esp32-esp8266-input-data-html-form/">https://randomnerdtutorials.com/esp32-esp8266-input-data-html-form/</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>SPIFFS adress file </td></tr>
    <tr><td class="paramname">path</td><td>the path to look for the file </td></tr>
    <tr><td class="paramname">message</td><td>what to write to the file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9d57394a484bb874eb34524d05ec60ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d57394a484bb874eb34524d05ec60ee">&#9670;&nbsp;</a></span>desired_temp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_share.html">Share</a>&lt;int16_t&gt; desired_temp(&quot;Temperature&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_share.html" title="Class for data to be shared in a thread-safe manner between tasks.">Share</a> to communicate the desired temperature setpoint. </p>

</div>
</div>
<a id="a8283f6456df517a72b55a2ec7d0c2ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8283f6456df517a72b55a2ec7d0c2ffc">&#9670;&nbsp;</a></span>p_server</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AsyncWebServer* p_server = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to the web server object. </p>

</div>
</div>
<a id="a30414aba519a1b6f20cfc3f7c86959fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30414aba519a1b6f20cfc3f7c86959fb">&#9670;&nbsp;</a></span>PARAM_INT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* PARAM_INT = &quot;inputInt&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>String for the input parameter. </p>

</div>
</div>
<a id="a74ae6f03d132b99a2e41ee2366bd6777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74ae6f03d132b99a2e41ee2366bd6777">&#9670;&nbsp;</a></span>PROGMEM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char index_html [] PROGMEM</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= R<span class="stringliteral">&quot;rawliteral(</span></div>
<div class="line"><span class="stringliteral">    &lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;title&gt;ESP Input Form&lt;/title&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;h1&gt;Enviro Chamber Test&lt;/h1&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;script&gt;</span></div>
<div class="line"><span class="stringliteral">        function submitMessage() {</span></div>
<div class="line"><span class="stringliteral">        alert(&quot;Saved value to ESP SPIFFS&quot;);</span></div>
<div class="line"><span class="stringliteral">        setTimeout(function(){ document.location.reload(false); }, 500);   </span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">    &lt;/script&gt;&lt;/head&gt;&lt;body&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;form action=&quot;/get&quot; target=&quot;hidden-form&quot;&gt;</span></div>
<div class="line"><span class="stringliteral">        Setpoint Temperature (in &amp;degC): </span></div>
<div class="line"><span class="stringliteral">        &lt;input type=&quot;number &quot; name=&quot;inputInt&quot;&gt;</span></div>
<div class="line"><span class="stringliteral">        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; onclick=&quot;submitMessage()&quot;&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;/form&gt;&lt;br&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;iframe style=&quot;display:none&quot; name=&quot;hidden-form&quot;&gt;&lt;/iframe&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;/body&gt;&lt;/html&gt;)rawliteral&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3abdaea2a0998d9cd056190ec4926734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3abdaea2a0998d9cd056190ec4926734">&#9670;&nbsp;</a></span>temp_reading</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_share.html">Share</a>&lt;int16_t&gt; temp_reading(&quot;Curr Temp&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_share.html" title="Class for data to be shared in a thread-safe manner between tasks.">Share</a> to communicate the current temperature reading. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
